@using Microsoft.AspNetCore.Components.Authorization
@inherits LayoutComponentBase

<style>
    /* Thème Hextech pour la Sidebar */
    .hextech-sidebar {
        background: linear-gradient(180deg, #091428 0%, #0a323c 100%);
        border-right: 2px solid #463714;
        height: 100vh;
        display: flex;
        flex-direction: column;
    }

    .hextech-brand {
        background-color: #091428;
        border-bottom: 1px solid #c8aa6e;
        padding: 1rem;
        text-align: center;
    }

    .hextech-brand a {
        color: #c8aa6e !important;
        font-family: 'Beaufort for LOL', serif; /* Fallback serif si la font n'est pas là */
        font-weight: bold;
        letter-spacing: 2px;
        text-transform: uppercase;
        text-decoration: none;
        font-size: 1.2rem;
        text-shadow: 0 0 5px rgba(200, 170, 110, 0.5);
    }

    /* Style des liens de navigation */
    .nav-item .nav-link {
        color: #f0e6d2 !important; /* Blanc cassé Hextech */
        border-left: 3px solid transparent;
        transition: all 0.3s ease;
        padding: 0.75rem 1.5rem;
        font-size: 0.95rem;
        display: flex;
        align-items: center;
        gap: 10px;
    }

    /* Effet Hover */
    .nav-item .nav-link:hover {
        background: linear-gradient(90deg, rgba(200, 170, 110, 0.1) 0%, transparent 100%);
        color: #c8aa6e !important;
        border-left: 3px solid #c8aa6e;
        padding-left: 1.8rem; /* Petit décalage vers la droite */
    }

    /* Lien Actif */
    .nav-item .nav-link.active {
        background: linear-gradient(90deg, rgba(200, 170, 110, 0.2) 0%, transparent 100%);
        color: #c8aa6e !important;
        border-left: 3px solid #c8aa6e;
        text-shadow: 0 0 8px rgba(200, 170, 110, 0.4);
        font-weight: 600;
    }

    /* Icônes */
    .bi {
        color: #a09b8c;
        transition: color 0.3s;
    }

    .nav-link:hover .bi, .nav-link.active .bi {
        color: #c8aa6e; /* L'icône devient dorée */
    }

    /* Séparateur */
    .nav-separator {
        border-top: 1px solid #463714;
        margin: 0.5rem 1rem;
    }
</style>

<!-- Structure HTML mise à jour -->
<div class="hextech-sidebar">
    <!-- En-tête -->
    <div class="hextech-brand">
        <a href="">LoL Project</a>
    </div>

    <!-- Menu Hamburger (Mobile) -->
    <input type="checkbox" title="Navigation menu" class="navbar-toggler d-lg-none" />

    <!-- Liens -->
    <div class="nav-scrollable" onclick="document.querySelector('.navbar-toggler').click()">
        <nav class="flex-column pt-3">
            
            <div class="nav-item">
                <NavLink class="nav-link" href="" Match="NavLinkMatch.All">
                    <span class="bi bi-house-door-fill" aria-hidden="true"></span> Accueil
                </NavLink>
            </div>

            <div class="nav-item">
                <NavLink class="nav-link" href="champions">
                    <span class="bi bi-grid-3x3-gap-fill" aria-hidden="true"></span> Champions
                </NavLink>
            </div>
            
            <!-- Séparateur visuel -->
            <div class="nav-separator"></div>

            <!-- Section Utilisateur Connecté -->
            <AuthorizeView>
                <Authorized>
                    <div class="nav-item">
                        <NavLink class="nav-link" href="dashboard">
                            <span class="bi bi-person-vcard-fill" aria-hidden="true"></span> Mon Dashboard
                        </NavLink>
                    </div>
                </Authorized>
                <NotAuthorized>
                     <div class="nav-item">
                        <NavLink class="nav-link" href="authentication/login">
                            <span class="bi bi-box-arrow-in-right" aria-hidden="true"></span> Se connecter
                        </NavLink>
                    </div>
                </NotAuthorized>
            </AuthorizeView>

            <!-- Section Admin -->
            <AuthorizeView>
                <Authorized>
                     <div class="nav-separator"></div>
                    <div class="px-3 pt-2 pb-1 text-uppercase" style="font-size: 0.7rem; color: #6e6046; letter-spacing: 1px;">
                        Gestion
                    </div>
                    
                    <!-- Lien Admin -->
                     <div class="nav-item">
                        <NavLink class="nav-link" href="admin">
                            <span class="bi bi-shield-lock-fill" aria-hidden="true"></span> Administration
                        </NavLink>
                    </div>
                </Authorized>
            </AuthorizeView>

        </nav>
    </div>
</div>